{% extends 'overtime_app/base.html' %}

{% block title %}Согласование заявки{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <div class="bg-white rounded-2xl shadow-xl p-8 border border-gray-100">
        <h1 class="text-2xl font-bold text-gray-800 mb-6">Согласование заявки #{{ req.id }}</h1>

        <div class="mb-6 p-4 bg-gray-50 rounded-lg">
            <p><strong>Сотрудник:</strong> {{ req.employee.full_name }}</p>
            <p><strong>Начало:</strong> {{ req.start_datetime|date:"d.m.Y H:i" }}</p>
            <p><strong>Окончание:</strong> {{ req.end_datetime|date:"d.m.Y H:i" }}</p>
            <p><strong>Причина:</strong> {{ req.get_reason_display }}</p>
            <p><strong>Обоснование:</strong> {{ req.justification }}</p>
        </div>

        <form method="post">
            {% csrf_token %}
            <input type="hidden" name="decision" value="{{ decision }}">
            <div class="mb-4">
                <label for="comment" class="block text-sm font-medium text-gray-700 mb-2">
                    Комментарий (необязательно):
                </label>
                <textarea name="comment" id="comment" rows="4"
                          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"></textarea>
            </div>

            <div class="flex gap-4">
                <button type="submit"
                        class="flex-1 bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-xl shadow hover:shadow-md transition-all duration-300">
                    Отправить
                </button>
                <a href="{% url 'overtime_app:dashboard' %}"
                   class="flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 px-6 rounded-xl shadow hover:shadow-md transition-all duration-300 text-center">
                    Отменить
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}